<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>KLV</title>
    <script src="https://cesium.com/downloads/cesiumjs/releases/1.130.1/Build/Cesium/Cesium.js"></script>
    <link href="https://cesium.com/downloads/cesiumjs/releases/1.130.1/Build/Cesium/Widgets/widgets.css"
        rel="stylesheet">
    <style>
        html,
        body,
        #cesiumContainer {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <div id="cesiumContainer"></div>
    <video id="player" controls loop="true" src="file.ts" autoplay="true" muted="true" crossorigin="anonymous" style="position: absolute; top: 0px; right: 0px; width: 300px; height: 200px;">
        <source src="file.ts" type="video/mp2t">
        <track id="subtitles" src="file.vtt" kind="subtitles" srclang="en" label="English" default>
    </video>

    <script src="permalink.js"></script>
    <script src="misc.js"></script>
    <script src="perspective.js"></script>
    <script src="footprint.js"></script>
    <script type="module">
        Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJlOWMwNjYyMS02MWE0LTRiNmItYTEwMy1kOGQ5OTNkNWQyYWQiLCJpZCI6MTQ1NTAsInNjb3BlcyI6WyJhc3IiLCJnYyJdLCJpYXQiOjE1NjU3ODA0MTl9.jVStXPdk1PpSGewonbPk3V2TXWVmb6Hom_ExapmzavM';

        // Initialize Cesium Viewer with terrain
        const viewer = new Cesium.Viewer("cesiumContainer", {
            terrainProvider: await Cesium.createWorldTerrainAsync(),
            hash: true,
        });
        window.viewer = viewer;

        if (window.addPermalink) {
            addPermalink(window, Cesium);
        }


        await waitForTerrain();



    </script>
</body>

</html>